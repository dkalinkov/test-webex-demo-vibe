<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webex Calling Demo</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <h1>Webex Calling Demo</h1>
            </div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#auth">Authentication</a></li>
                <li><a href="#calling">Calling</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="home" class="hero">
            <div class="hero-content">
                <h2>Webex Calling Demo</h2>
                <p>Authenticate with Webex and make calls using the Webex SDK.</p>
                <button class="cta-button" onclick="scrollToAuth()">Get Started</button>
            </div>
        </section>

        <section id="auth" class="auth-section">
            <div class="container">
                <h2>Authentication</h2>
                <div class="auth-container">
                    <div class="auth-status" id="authStatus">
                        <p>Status: <span id="statusText">Not Authenticated</span></p>
                    </div>
                    
                    <div class="auth-form" id="authForm">
                        <h3>Login to Webex</h3>
                        <input type="text" id="accessToken" placeholder="Enter your Webex Access Token" required>
                        <button onclick="authenticateWebex()" class="auth-button">Authenticate</button>
                        <p class="auth-help">
                            <small>
                                Get your access token from: 
                                <a href="https://developer.webex.com/docs/getting-started" target="_blank">Webex Developer Portal</a>
                            </small>
                        </p>
                    </div>
                    
                    <div class="user-info" id="userInfo" style="display: none;">
                        <h3>User Information</h3>
                        <div id="userDetails"></div>
                        <button onclick="logoutWebex()" class="logout-button">Logout</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="calling" class="calling-section">
            <div class="container">
                <h2>Make a Call</h2>
                <div class="calling-container">
                    <div class="call-controls" id="callControls">
                        <div class="call-input-group">
                            <input type="email" id="calleeEmail" placeholder="Enter email address to call" required>
                            <button onclick="initiateCall()" class="call-button" id="callButton" disabled>
                                üìû Start Call
                            </button>
                        </div>
                        
                        <div class="call-status" id="callStatus">
                            <p>Call Status: <span id="callStatusText">Ready</span></p>
                        </div>
                        
                        <div class="call-actions" id="callActions" style="display: none;">
                            <button onclick="answerCall()" class="answer-button" id="answerButton" style="display: none;">
                                ‚úÖ Answer
                            </button>
                            <button onclick="hangupCall()" class="hangup-button" id="hangupButton" style="display: none;">
                                ‚ùå Hang Up
                            </button>
                            <button onclick="toggleMute()" class="mute-button" id="muteButton" style="display: none;">
                                üîá Mute
                            </button>
                        </div>
                    </div>
                    
                    <div class="media-container">
                        <div class="video-container">
                            <video id="localVideo" autoplay muted playsinline class="local-video"></video>
                            <video id="remoteVideo" autoplay playsinline class="remote-video"></video>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="contact">
            <div class="container">
                <h2>About This Demo</h2>
                <div class="demo-info">
                    <h3>Setup Instructions</h3>
                    <ol>
                        <li>Create a Webex developer account at <a href="https://developer.webex.com" target="_blank">developer.webex.com</a></li>
                        <li>Create a new integration or bot</li>
                        <li>Get your access token from the developer portal</li>
                        <li>Enter the token in the Authentication section above</li>
                        <li>Start making calls!</li>
                    </ol>
                    
                    <h3>Features</h3>
                    <ul>
                        <li>Webex SDK integration</li>
                        <li>User authentication</li>
                        <li>Voice and video calling</li>
                        <li>Call controls (mute, hangup)</li>
                        <li>Real-time call status updates</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Webex Calling Demo. Built with Webex SDK.</p>
        </div>
    </footer>

    <!-- Webex SDK loaded from local node_modules -->
    <script src="node_modules/webex/umd/webex.min.js"></script>
    <script src="js/webex-calling.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
